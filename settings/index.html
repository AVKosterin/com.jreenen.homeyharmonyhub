<!doctype html>
<html>

<head>
    <script type="text/javascript" src="/homey.js" data-origin="settings"></script>
</head>

<body>

    <h1 data-i18n="settings.title">
    </h1>

    <fieldset>
        <legend data-i18n="settings.debugsection"></legend>
        <p data-i18n="settings.debugintro"></p>
        <div class="field row">
            <div class="col-xs-12 col-md-8">
                <button id="senddebugfile" data-i18n="settings.senddebugreport"></button>
            </div>
        </div>
    </fieldset>


    <script type="text/javascript">

        function onHomeyReady(Homey) {
            var downloadDebugFileElement = document.getElementById('senddebugfile');

            downloadDebugFileElement.addEventListener('click', () => {
                downloadDebugFileElement.parentNode.removeChild(downloadDebugFileElement);
                Homey.api('POST', '/sendDebugReport/', {}, function (err) { });
            });

            Homey.ready();
        }


    </script>

</body>

</html>